@page "/"

<PageTitle>Specifications - LowlandTech.Specs</PageTitle>

<div class="container mx-auto px-4 max-w-7xl">
    <!-- Hero Section -->
    <div class="text-center mb-12">
        <div class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 mb-4">
            <svg class="w-4 h-4 mr-2" width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            New
        </div>
        <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white mb-4">
            Executable Specifications
        </h1>
        <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto mb-6">
            BDD scenarios with auto-execution capabilities, xUnit v3 integration, and structured assertions
        </p>
        
        <div class="flex flex-wrap justify-center gap-4 text-sm">
            <div class="flex items-center px-4 py-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                <svg class="w-5 h-5 text-blue-600 mr-2" width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"/>
                    <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"/>
                </svg>
                <span class="font-medium text-gray-900 dark:text-white">Given/When/Then</span>
            </div>
            <div class="flex items-center px-4 py-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                <svg class="w-5 h-5 text-green-600 mr-2" width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z" clip-rule="evenodd"/>
                </svg>
                <span class="font-medium text-gray-900 dark:text-white">Auto-Execution</span>
            </div>
            <div class="flex items-center px-4 py-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
                <svg class="w-5 h-5 text-purple-600 mr-2" width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M13 7H7v6h6V7z"/>
                    <path fill-rule="evenodd" d="M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z" clip-rule="evenodd"/>
                </svg>
                <span class="font-medium text-gray-900 dark:text-white">Gherkin Output</span>
            </div>
        </div>
    </div>

    @if (Features.Any())
    {
        <!-- Stats Bar -->
        <div class="flex items-center justify-between mb-6 px-6 py-4 bg-gray-800 rounded-lg border border-gray-700">
            <div class="flex items-center gap-6">
                <div>
                    <p class="text-sm text-gray-400">Specifications</p>
                    <p class="text-2xl font-bold text-white">@Features.Count</p>
                </div>
                <div class="h-12 w-px bg-gray-700"></div>
                <div>
                    <p class="text-sm text-gray-400">User Stories</p>
                    <p class="text-2xl font-bold text-white">@Features.Sum(f => f.UserStories.Count)</p>
                </div>
                <div class="h-12 w-px bg-gray-700"></div>
                <div>
                    <p class="text-sm text-gray-400">Scenarios</p>
                    <p class="text-2xl font-bold text-white">@Features.Sum(f => f.UserStories.Sum(us => us.Scenarios.Count))</p>
                </div>
                <div class="h-12 w-px bg-gray-700"></div>
                <div>
                    <p class="text-sm text-gray-400">Test Methods</p>
                    <p class="text-2xl font-bold text-white">@Features.Sum(f => f.UserStories.Sum(us => us.Scenarios.Sum(s => s.ThenAttributes.Count)))</p>
                </div>
            </div>
            <div class="flex items-center gap-2">
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-900 text-green-200">
                    <svg class="w-3 h-3 mr-1" width="12" height="12" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    All Passing
                </span>
            </div>
        </div>


        <!-- Feature Cards -->
        <div class="space-y-6">
            @foreach (var feature in Features)
            {
                <FeatureCard Feature="@feature" />
            }
        </div>
    }
    else
    {
        <div class="text-center py-12">
            <svg class="mx-auto h-12 w-12 text-gray-400" width="48" height="48" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
            <h3 class="mt-2 text-sm font-medium text-gray-900 dark:text-white">No features found</h3>
            <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Get started by creating your first BDD feature.</p>
        </div>
    }
</div>

@code {
    private List<FeatureInfo> Features { get; set; } = new();

    protected override void OnInitialized()
    {
        Features = SpecificationService.LoadFeatures();
    }
}




